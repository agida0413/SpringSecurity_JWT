# JWT 학습 전 사전 학습 

​	

- > 사전지식 :
  >
  > 
  >
  > 1. 웹 클라이언트 요청
  >
  > 2. 서버에서는 최초요청정보를 목록에 담고 
  > 3.  header 쿠키에 세션아이디를 담아 클라이언트에게 전송 (최초요청 시 )(겟인데어)
  >
  > 4. 두번 째  Request 부터는 header에 세션아이디를 기본으로 탑재해서 요청 (서버는 인지)
  >
  > 5. 세션을 서버에서 없애거나, 사용자가 브라우저를 닫으면 세션값을 잃는다.
  >
  >    ->브라우저를 종료하면 ,  해당 세션정보는 서버에는 살아있지만 , 브라우저 측 세션아이디가 없기 때문에 새로운 세션정보를 발급해 준다. 서버에 남아있는 세션아이디는 특정시간이 지나면 사라진다.
  >
  >    
  >
  >    
  >
  >    <u>**세션의** 단점 :  로그인 요청 시</u>  세션저장소에 세션아이디를 만드는데 , 세션 아이디의 정보를 담고있는 저장소가 생긴다. 
  >
  >    마찬가지로 다른 사용자가 요청을 했을 때 또다른 세션아이디와 저장소가 생긴다. 앞서 말했던 것 처럼 response를 해줄 때 클라이언트에게 세션아이디를 반환하게 되는데 , 클라이언트 웹 브라우저에 세션아이디가 저장된다. 
  >
  >    그 후 로그인 요청을 하게되면 ,  request 된 정보를 바탕으로 데이터베이스와 통신하여 일치한다면 , 해당 유저정보를 아까 세션아이디를 기반으로 만든 저장소에 저장한다.
  >
  >    그 후 부터는 인증이 필요한 페이지를 요청하면 (유저정보) 서버는 세션아이디를 찾고 , 그 저장소를 확인하여(유저정보) 회원테이블에 접근하여 회원정보를 클라이언트에게 보여준다. **(민감한 정보)**
  >
  >    
  >
  >    <u>***** 단점******</u>
  >
  >    클라이언트가 100만명이라 가정해보자 . 동시접속자 수가 평균1000명이이고, 서버는 그것을 허용하지않는다고 할때 , 나머지 클라이언트는 대기해야한다 . 로드밸런싱을 통해 해결할 순 있지만(분산 시스템), 
  >
  >    하지만 서버가 다수 이기 때문에 서로 다른서버는 세션아이디공유가 안되기 때문에 다른 서버에서는 다시 인증을 해야한다. (로그인을 했는데 로그인이 안된다.......) 
  >
  >    그렇다고 데이터베이스에 세션정보를 저장하면(하드디스크는 풀스캔,I/O) , 상당히 느려지게 된다. 세션기반의 장점을 잃는다. 
  >
  >    이 때 서로다른 서버가 메모리 저장소를 이용하여 (램) 세션을 저장하고 접근한다. 따라서 서로 다른서버라 할 지라도 같은 저장소에 있는 세션을 읽어들이기 때문에 위와 같은 문제점은 발생하지 않는다. (REDIS)
  >
  >    
  >
  >    
  >
  >    

